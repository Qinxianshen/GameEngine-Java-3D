## 游戏中的数学

《3D数学基础：图形与游戏开发》

1.向量

向量（也称矢量）是指具有大小（magnitude）和方向的量。这是图形学和物理学中经常用到的概念，希望读者能了解2D、3D、4D向量的含义，标量和点的含义。在游戏中，3D向量既可以表示一个方向，也可以表示一个点


2.矩阵

矩阵也是图形学中最常用的概念，它的一个作用就是空间变换

引擎中最常用的就是3×3矩阵和4×4矩阵

矩阵的基本计算:

矩阵的维度、矩阵的逆、矩阵的转置、单位矩阵、方阵、标量和矩阵相乘、矩阵和矩阵相乘、矩阵和向量相乘、向量和矩阵相乘（不同顺序得到的结果也不一样）、正交矩阵、向量与基向量的关系

3.四元数

关于四元数，需要了解的包括四元数的定义以及四元数的模、单位四元数、四元数的逆、四元数的共轭、四元数的点乘和叉乘等

4.几何体

引擎中的几何体基本是用来做碰撞检测和相交检测以及求相互距离

所有的几何体都以参数化方式表示

需要弄清楚的是直线、射线、线段、圆、三角形、矩形、平面、球体、立方体、胶囊体等。我们需要用到的是它们之间的相交检测以及点到它们的距离

5.欧拉角

前向量（Roll）、右向量（Pitch）、上向量（Yaw）作为旋转轴得到的角度。按不同顺序旋转得到的结果是不一样的，一般有两种旋转顺序，分别为Roll→Pitch→Yaw和Yaw→Pitch→Roll。

6.欧拉角、矩阵、四元数之间的相互转换关系

(1)分别绕z轴、x轴、y轴旋转AngleZ、AngleX、AngleY角度的矩阵等价于构建欧拉角的矩阵

![](./1.png)

(2)分别绕z轴、x轴、y轴旋转AngleZ、AngleX、AngleY角度的四元数等价于构建欧拉角的四元数一样

![](./2.png)

(3)欧拉角到四元数和矩阵的转换并不一定可逆，前提是AngleZ、AngleY的范围是[−π,π]，AngleX的范围是[−π/2，π/2]